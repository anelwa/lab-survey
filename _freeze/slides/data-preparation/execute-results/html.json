{
  "hash": "fc1b5bb0dd37ba5f88d4a47512b31458",
  "result": {
    "markdown": "---\ntitle: Umfragedaten vorbereiten\nlang: de\nsubtitle: Survey Teil 1\nauthor: Jan Kirenz\nexecute:\n  eval: true\n  echo: true\nhighlight-style: github\nformat:\n  revealjs:\n    toc: true\n    toc-depth: 1\n    embed-resources: false\n    theme:\n      - dark\n      - ../custom.scss\n    incremental: true\n    transition: slide\n    background-transition: fade\n    transition-speed: slow\n    code-copy: true\n    code-line-numbers: true\n    smaller: false\n    scrollable: true\n    slide-number: c\n    preview-links: auto\n    chalkboard:\n      buttons: false\n    footer: Jan Kirenz\n---\n\n# Setup \n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\nimport pandas as pd\nfrom pandas.api.types import CategoricalDtype\n\n```\n:::\n\n\n# Daten\n\n## Daten importieren\n\n::: {.cell output-location='fragment' execution_count=2}\n``` {.python .cell-code}\nPATH = \"../data/\"\nDATA = \"raw_mr_ws2324.csv\"\n\ndf = pd.read_csv(PATH + DATA)\n```\n:::\n\n\n## DataFrame anzeigen\n\n::: {.cell output-location='fragment' execution_count=3}\n``` {.python .cell-code}\ndf\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Zeitstempel</th>\n      <th>Ich bin sportlich</th>\n      <th>Ich bin fleißig.</th>\n      <th>Von Rückschlägen lasse ich mich nicht entmutigen.</th>\n      <th>Meine Fähigkeiten und Talente sind vorgegeben und ich kann daran nicht viel ändern.</th>\n      <th>1990 lebten 58 % der Weltbevölkerung in Ländern mit niedrigem Einkommen. Wie hoch ist der Anteil heute? Geben Sie eine Zahl ein (z. B. 9, 37 oder 61)</th>\n      <th>Wie viel der weltweit verbrauchten Energie stammt aus Erdgas, Kohle und Öl?</th>\n      <th>Welcher Anteil der Weltbevölkerung lebt in Megacitys (Städte mit mindestens 10 Millionen Einwohnern)?</th>\n      <th>Wie viele Geleebohnen befinden sich in diesem sechseckigen Glas?</th>\n      <th>Wie viele Minuten verbringen Sie an einem typischen Tag in sozialen Medien (Facebook, Instagram, Snapchat, etc.)?</th>\n      <th>Wie viele Minuten investieren Sie ca. pro Tag in Ihr Studium (abgesehen von Lehrveranstaltungen)?</th>\n      <th>Lesen Sie zur Zeit ein Buch?</th>\n      <th>Wie alt sind Sie?</th>\n      <th>Sie sind ...</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2023/10/17 4:37:01 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft völlig zu</td>\n      <td>4</td>\n      <td>teils teils</td>\n      <td>40</td>\n      <td>ca. 82%</td>\n      <td>4</td>\n      <td>800</td>\n      <td>5</td>\n      <td>3</td>\n      <td>Nein</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2023/10/17 4:37:16 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft eher nicht zu</td>\n      <td>4</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>50</td>\n      <td>ca. 62%</td>\n      <td>2</td>\n      <td>375</td>\n      <td>200</td>\n      <td>15</td>\n      <td>Nein</td>\n      <td>21</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2023/10/17 4:37:44 PM OESZ</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>teils teils</td>\n      <td>4</td>\n      <td>trifft eher zu</td>\n      <td>23</td>\n      <td>ca. 62%</td>\n      <td>4</td>\n      <td>500</td>\n      <td>300</td>\n      <td>60</td>\n      <td>Nein</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2023/10/17 4:37:51 PM OESZ</td>\n      <td>trifft eher nicht zu</td>\n      <td>trifft eher nicht zu</td>\n      <td>2</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>68</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>568</td>\n      <td>240</td>\n      <td>15</td>\n      <td>Nein</td>\n      <td>23</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2023/10/17 4:37:57 PM OESZ</td>\n      <td>teils teils</td>\n      <td>trifft eher nicht zu</td>\n      <td>4</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>14</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>600</td>\n      <td>30</td>\n      <td>60</td>\n      <td>Nein</td>\n      <td>24</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2023/10/17 4:38:00 PM OESZ</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>1</td>\n      <td>trifft eher nicht zu</td>\n      <td>90</td>\n      <td>ca. 82%</td>\n      <td>5</td>\n      <td>10000000000</td>\n      <td>7</td>\n      <td>2</td>\n      <td>Ja</td>\n      <td>23</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2023/10/17 4:38:12 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft eher zu</td>\n      <td>4</td>\n      <td>trifft eher nicht zu</td>\n      <td>100</td>\n      <td>ca. 62%</td>\n      <td>2</td>\n      <td>23400</td>\n      <td>200</td>\n      <td>120</td>\n      <td>Ja</td>\n      <td>22</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2023/10/17 4:38:24 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft eher zu</td>\n      <td>3</td>\n      <td>trifft eher nicht zu</td>\n      <td>20</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>1000</td>\n      <td>60</td>\n      <td>180</td>\n      <td>Ja</td>\n      <td>24</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2023/10/17 4:38:28 PM OESZ</td>\n      <td>trifft völlig zu</td>\n      <td>trifft eher zu</td>\n      <td>3</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>65</td>\n      <td>ca. 82%</td>\n      <td>2</td>\n      <td>670</td>\n      <td>180</td>\n      <td>80</td>\n      <td>Ja</td>\n      <td>20</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2023/10/17 4:38:29 PM OESZ</td>\n      <td>trifft eher nicht zu</td>\n      <td>trifft eher nicht zu</td>\n      <td>4</td>\n      <td>trifft eher nicht zu</td>\n      <td>61</td>\n      <td>ca. 62%</td>\n      <td>4</td>\n      <td>231</td>\n      <td>300</td>\n      <td>30</td>\n      <td>Ja</td>\n      <td>25</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>2023/10/17 4:38:30 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft eher zu</td>\n      <td>3</td>\n      <td>trifft eher nicht zu</td>\n      <td>45</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>400</td>\n      <td>140</td>\n      <td>60</td>\n      <td>Ja</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>2023/10/17 4:38:32 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft eher zu</td>\n      <td>2</td>\n      <td>teils teils</td>\n      <td>85</td>\n      <td>ca. 62%</td>\n      <td>2</td>\n      <td>1450</td>\n      <td>200</td>\n      <td>60</td>\n      <td>Ja</td>\n      <td>20</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>2023/10/17 4:38:40 PM OESZ</td>\n      <td>teils teils</td>\n      <td>trifft eher zu</td>\n      <td>2</td>\n      <td>teils teils</td>\n      <td>70</td>\n      <td>ca. 62%</td>\n      <td>2</td>\n      <td>1400</td>\n      <td>230</td>\n      <td>120</td>\n      <td>Ja</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>2023/10/17 4:38:41 PM OESZ</td>\n      <td>trifft eher nicht zu</td>\n      <td>trifft völlig zu</td>\n      <td>5</td>\n      <td>trifft eher nicht zu</td>\n      <td>70</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>777</td>\n      <td>240</td>\n      <td>120</td>\n      <td>Nein</td>\n      <td>21</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>2023/10/17 4:38:42 PM OESZ</td>\n      <td>teils teils</td>\n      <td>trifft eher zu</td>\n      <td>4</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>48</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>2000</td>\n      <td>120</td>\n      <td>60</td>\n      <td>Ja</td>\n      <td>21</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>2023/10/17 4:38:42 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft eher zu</td>\n      <td>2</td>\n      <td>trifft eher nicht zu</td>\n      <td>15</td>\n      <td>ca. 82%</td>\n      <td>2</td>\n      <td>5000</td>\n      <td>100</td>\n      <td>150</td>\n      <td>Ja</td>\n      <td>21</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>2023/10/17 4:38:50 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft eher zu</td>\n      <td>4</td>\n      <td>trifft eher nicht zu</td>\n      <td>75%</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>873</td>\n      <td>80</td>\n      <td>30</td>\n      <td>Ja</td>\n      <td>23</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>2023/10/17 4:38:52 PM OESZ</td>\n      <td>trifft völlig zu</td>\n      <td>trifft eher zu</td>\n      <td>3</td>\n      <td>trifft eher nicht zu</td>\n      <td>65</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>750</td>\n      <td>120</td>\n      <td>30</td>\n      <td>Ja</td>\n      <td>22</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>2023/10/17 4:38:56 PM OESZ</td>\n      <td>teils teils</td>\n      <td>trifft eher zu</td>\n      <td>2</td>\n      <td>trifft eher nicht zu</td>\n      <td>65</td>\n      <td>ca. 42%</td>\n      <td>4</td>\n      <td>350</td>\n      <td>170</td>\n      <td>20</td>\n      <td>Ja</td>\n      <td>21</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>2023/10/17 4:39:12 PM OESZ</td>\n      <td>trifft eher nicht zu</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>2</td>\n      <td>trifft eher zu</td>\n      <td>43</td>\n      <td>ca. 62%</td>\n      <td>2</td>\n      <td>629</td>\n      <td>4</td>\n      <td>23</td>\n      <td>Ja</td>\n      <td>21</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>2023/10/17 4:39:18 PM OESZ</td>\n      <td>trifft eher nicht zu</td>\n      <td>trifft eher zu</td>\n      <td>4</td>\n      <td>trifft eher zu</td>\n      <td>65</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>2000</td>\n      <td>75</td>\n      <td>120</td>\n      <td>Ja</td>\n      <td>22</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>2023/10/17 4:39:22 PM OESZ</td>\n      <td>trifft völlig zu</td>\n      <td>teils teils</td>\n      <td>3</td>\n      <td>trifft eher nicht zu</td>\n      <td>75</td>\n      <td>ca. 82%</td>\n      <td>2</td>\n      <td>2135</td>\n      <td>360</td>\n      <td>30</td>\n      <td>Nein</td>\n      <td>19</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>2023/10/17 4:39:50 PM OESZ</td>\n      <td>teils teils</td>\n      <td>teils teils</td>\n      <td>3</td>\n      <td>teils teils</td>\n      <td>60</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>1436</td>\n      <td>200</td>\n      <td>30</td>\n      <td>Ja</td>\n      <td>22</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>2023/10/17 4:39:51 PM OESZ</td>\n      <td>teils teils</td>\n      <td>teils teils</td>\n      <td>4</td>\n      <td>trifft eher nicht zu</td>\n      <td>45</td>\n      <td>ca. 82%</td>\n      <td>4</td>\n      <td>5000</td>\n      <td>150</td>\n      <td>30</td>\n      <td>Ja</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>2023/10/17 4:39:52 PM OESZ</td>\n      <td>teils teils</td>\n      <td>teils teils</td>\n      <td>3</td>\n      <td>trifft eher nicht zu</td>\n      <td>63</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>864</td>\n      <td>180</td>\n      <td>40</td>\n      <td>Nein</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>2023/10/17 4:39:54 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>teils teils</td>\n      <td>4</td>\n      <td>trifft eher nicht zu</td>\n      <td>75</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>20000</td>\n      <td>120</td>\n      <td>60</td>\n      <td>Ja</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>2023/10/17 4:40:02 PM OESZ</td>\n      <td>trifft völlig zu</td>\n      <td>teils teils</td>\n      <td>3</td>\n      <td>trifft eher nicht zu</td>\n      <td>53</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>900</td>\n      <td>150</td>\n      <td>100</td>\n      <td>Ja</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>2023/10/17 4:40:03 PM OESZ</td>\n      <td>trifft völlig zu</td>\n      <td>teils teils</td>\n      <td>3</td>\n      <td>trifft eher nicht zu</td>\n      <td>50</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>500</td>\n      <td>160</td>\n      <td>100</td>\n      <td>Ja</td>\n      <td>19</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>2023/10/17 4:40:16 PM OESZ</td>\n      <td>teils teils</td>\n      <td>teils teils</td>\n      <td>4</td>\n      <td>trifft eher nicht zu</td>\n      <td>80</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>550</td>\n      <td>240</td>\n      <td>60</td>\n      <td>Nein</td>\n      <td>29</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>2023/10/17 4:40:21 PM OESZ</td>\n      <td>trifft völlig zu</td>\n      <td>trifft eher zu</td>\n      <td>3</td>\n      <td>teils teils</td>\n      <td>50</td>\n      <td>ca. 82%</td>\n      <td>2</td>\n      <td>2000</td>\n      <td>200</td>\n      <td>100</td>\n      <td>Nein</td>\n      <td>20</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>30</th>\n      <td>2023/10/17 4:40:32 PM OESZ</td>\n      <td>trifft eher nicht zu</td>\n      <td>teils teils</td>\n      <td>4</td>\n      <td>trifft eher nicht zu</td>\n      <td>46</td>\n      <td>ca. 62%</td>\n      <td>2</td>\n      <td>187</td>\n      <td>100</td>\n      <td>60</td>\n      <td>Nein</td>\n      <td>21</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>31</th>\n      <td>2023/10/17 4:40:50 PM OESZ</td>\n      <td>teils teils</td>\n      <td>teils teils</td>\n      <td>2</td>\n      <td>trifft eher zu</td>\n      <td>37</td>\n      <td>ca. 62%</td>\n      <td>3</td>\n      <td>1200</td>\n      <td>180</td>\n      <td>60</td>\n      <td>Nein</td>\n      <td>21</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>32</th>\n      <td>2023/10/17 4:40:50 PM OESZ</td>\n      <td>trifft völlig zu</td>\n      <td>trifft eher zu</td>\n      <td>3</td>\n      <td>teils teils</td>\n      <td>28</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>650</td>\n      <td>90</td>\n      <td>100</td>\n      <td>Nein</td>\n      <td>20</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>33</th>\n      <td>2023/10/17 4:40:53 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>teils teils</td>\n      <td>3</td>\n      <td>trifft eher nicht zu</td>\n      <td>24</td>\n      <td>ca. 62%</td>\n      <td>4</td>\n      <td>1010</td>\n      <td>30</td>\n      <td>1</td>\n      <td>Ja</td>\n      <td>21</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>34</th>\n      <td>2023/10/17 4:40:55 PM OESZ</td>\n      <td>teils teils</td>\n      <td>trifft eher zu</td>\n      <td>4</td>\n      <td>trifft eher nicht zu</td>\n      <td>82</td>\n      <td>ca. 42%</td>\n      <td>3</td>\n      <td>1243</td>\n      <td>200</td>\n      <td>120</td>\n      <td>Ja</td>\n      <td>22</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>35</th>\n      <td>2023/10/17 4:42:06 PM OESZ</td>\n      <td>trifft völlig zu</td>\n      <td>trifft eher zu</td>\n      <td>2</td>\n      <td>trifft eher nicht zu</td>\n      <td>60</td>\n      <td>ca. 62%</td>\n      <td>2</td>\n      <td>448</td>\n      <td>400</td>\n      <td>180</td>\n      <td>Nein</td>\n      <td>19</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>36</th>\n      <td>2023/10/17 4:42:31 PM OESZ</td>\n      <td>teils teils</td>\n      <td>trifft eher zu</td>\n      <td>2</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>42</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>3537</td>\n      <td>1123</td>\n      <td>180</td>\n      <td>Ja</td>\n      <td>26</td>\n      <td>Weiblich</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Datentypen anzeigen\n\n::: {.cell output-location='fragment' execution_count=4}\n``` {.python .cell-code}\ndf.dtypes\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\nZeitstempel                                                                                                                                              object\nIch bin sportlich                                                                                                                                        object\nIch bin fleißig.                                                                                                                                         object\nVon Rückschlägen lasse ich mich nicht entmutigen.                                                                                                         int64\nMeine Fähigkeiten und Talente sind vorgegeben und ich kann daran nicht viel ändern.                                                                      object\n1990 lebten 58 % der Weltbevölkerung in Ländern mit niedrigem Einkommen. Wie hoch ist der Anteil heute? Geben Sie eine Zahl ein (z. B. 9, 37 oder 61)    object\nWie viel der weltweit verbrauchten Energie stammt aus Erdgas, Kohle und Öl?                                                                              object\nWelcher Anteil der Weltbevölkerung lebt in Megacitys (Städte mit mindestens 10 Millionen Einwohnern)?                                                     int64\nWie viele Geleebohnen befinden sich in diesem sechseckigen Glas?                                                                                          int64\nWie viele Minuten verbringen Sie an einem typischen Tag in sozialen Medien (Facebook, Instagram, Snapchat, etc.)?                                         int64\nWie viele Minuten investieren Sie ca. pro Tag in Ihr Studium (abgesehen von Lehrveranstaltungen)?                                                         int64\nLesen Sie zur Zeit ein Buch?                                                                                                                             object\nWie alt sind Sie?                                                                                                                                         int64\nSie sind ...                                                                                                                                             object\ndtype: object\n```\n:::\n:::\n\n\n## Info\n\n::: {.cell output-location='fragment' execution_count=5}\n``` {.python .cell-code}\ndf.info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 37 entries, 0 to 36\nData columns (total 14 columns):\n #   Column                                                                                                                                                 Non-Null Count  Dtype \n---  ------                                                                                                                                                 --------------  ----- \n 0   Zeitstempel                                                                                                                                            37 non-null     object\n 1   Ich bin sportlich                                                                                                                                      37 non-null     object\n 2   Ich bin fleißig.                                                                                                                                       37 non-null     object\n 3   Von Rückschlägen lasse ich mich nicht entmutigen.                                                                                                      37 non-null     int64 \n 4   Meine Fähigkeiten und Talente sind vorgegeben und ich kann daran nicht viel ändern.                                                                    37 non-null     object\n 5   1990 lebten 58 % der Weltbevölkerung in Ländern mit niedrigem Einkommen. Wie hoch ist der Anteil heute? Geben Sie eine Zahl ein (z. B. 9, 37 oder 61)  37 non-null     object\n 6   Wie viel der weltweit verbrauchten Energie stammt aus Erdgas, Kohle und Öl?                                                                            37 non-null     object\n 7   Welcher Anteil der Weltbevölkerung lebt in Megacitys (Städte mit mindestens 10 Millionen Einwohnern)?                                                  37 non-null     int64 \n 8   Wie viele Geleebohnen befinden sich in diesem sechseckigen Glas?                                                                                       37 non-null     int64 \n 9   Wie viele Minuten verbringen Sie an einem typischen Tag in sozialen Medien (Facebook, Instagram, Snapchat, etc.)?                                      37 non-null     int64 \n 10  Wie viele Minuten investieren Sie ca. pro Tag in Ihr Studium (abgesehen von Lehrveranstaltungen)?                                                      37 non-null     int64 \n 11  Lesen Sie zur Zeit ein Buch?                                                                                                                           37 non-null     object\n 12  Wie alt sind Sie?                                                                                                                                      37 non-null     int64 \n 13  Sie sind ...                                                                                                                                           37 non-null     object\ndtypes: int64(6), object(8)\nmemory usage: 4.2+ KB\n```\n:::\n:::\n\n\n# Daten anpassen\n\n## Spaltennamen\n\n::: {.cell output-location='fragment' execution_count=6}\n``` {.python .cell-code}\n# Spaltennamen umbenennen\ndf = df.rename(columns={\n    \"Zeitstempel\": \"zeit\",\n    \"Ich bin sportlich\": \"sport\",\n    \"Ich bin fleißig.\": \"fleissig\",\n    \"Von Rückschlägen lasse ich mich nicht entmutigen.\": \"entmutigen\",\n    \"Meine Fähigkeiten und Talente sind vorgegeben und ich kann daran nicht viel ändern.\": 'talente',\n    \"1990 lebten 58 % der Weltbevölkerung in Ländern mit niedrigem Einkommen. Wie hoch ist der Anteil heute? Geben Sie eine Zahl ein (z. B. 9, 37 oder 61)\": \"einkommen\",\n    \"Wie viel der weltweit verbrauchten Energie stammt aus Erdgas, Kohle und Öl?\": \"energie\",\n    \"Welcher Anteil der Weltbevölkerung lebt in Megacitys (Städte mit mindestens 10 Millionen Einwohnern)?\": \"megacity\",\n    \"Wie viele Geleebohnen befinden sich in diesem sechseckigen Glas?\": \"geleebohnen\",\n    \"Wie viele Minuten verbringen Sie an einem typischen Tag in sozialen Medien (Facebook, Instagram, Snapchat, etc.)?\": \"soziale_medien\",\n    \"Wie viele Minuten investieren Sie ca. pro Tag in Ihr Studium (abgesehen von Lehrveranstaltungen)?\": \"studium\",\n    \"Lesen Sie zur Zeit ein Buch?\": \"buch\",\n    \"Wie alt sind Sie?\": \"alter\",\n    \"Sie sind ...\": \"geschlecht\"\n}, errors=\"raise\")\n```\n:::\n\n\n## Info\n\n::: {.cell output-location='fragment' execution_count=7}\n``` {.python .cell-code}\ndf.info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 37 entries, 0 to 36\nData columns (total 14 columns):\n #   Column          Non-Null Count  Dtype \n---  ------          --------------  ----- \n 0   zeit            37 non-null     object\n 1   sport           37 non-null     object\n 2   fleissig        37 non-null     object\n 3   entmutigen      37 non-null     int64 \n 4   talente         37 non-null     object\n 5   einkommen       37 non-null     object\n 6   energie         37 non-null     object\n 7   megacity        37 non-null     int64 \n 8   geleebohnen     37 non-null     int64 \n 9   soziale_medien  37 non-null     int64 \n 10  studium         37 non-null     int64 \n 11  buch            37 non-null     object\n 12  alter           37 non-null     int64 \n 13  geschlecht      37 non-null     object\ndtypes: int64(6), object(8)\nmemory usage: 4.2+ KB\n```\n:::\n:::\n\n\n# Nominale Variablen\n\n## Liste erstellen \n\n::: {.cell output-location='fragment' execution_count=8}\n``` {.python .cell-code}\n# Liste mit nominalen Variablen erstellen\nlist_nominal = [\"buch\", \"geschlecht\"]\n```\n:::\n\n\n## Variablen anpassen\n\n::: {.cell output-location='fragment' execution_count=9}\n``` {.python .cell-code}\n# Nominale Variablen als kategorial formatieren (category)\nfor i in list_nominal:\n    df[i] = df[i].astype(\"category\")\n\ndf[list_nominal].info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 37 entries, 0 to 36\nData columns (total 2 columns):\n #   Column      Non-Null Count  Dtype   \n---  ------      --------------  -----   \n 0   buch        37 non-null     category\n 1   geschlecht  37 non-null     category\ndtypes: category(2)\nmemory usage: 454.0 bytes\n```\n:::\n:::\n\n\n## Variablen anzeigen\n\n::: {.cell output-location='fragment' execution_count=10}\n``` {.python .cell-code}\ndf[list_nominal].head()\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>buch</th>\n      <th>geschlecht</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Nein</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Nein</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Nein</td>\n      <td>Weiblich</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Nein</td>\n      <td>Männlich</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Nein</td>\n      <td>Männlich</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n- Beide nominalen Variablen enthalten Text in den Zeilen (mit jeweils zwei möglichen Ausprägungen). \n\n\n- Dies kann bei späteren Analysen zu Problemen führen, weshalb wir zusätzlich so genannte \"Dummy-Variablen\" erzeugen, die nur die Werte 1 und 0 enthalten. \n\n\n## Dummy Variablen erstellen\n\n::: {.cell output-location='fragment' execution_count=11}\n``` {.python .cell-code}\ndummy_nominal = pd.get_dummies(\n    df[list_nominal],  prefix_sep='__').astype('category')\n\ndummy_nominal\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>buch__Ja</th>\n      <th>buch__Nein</th>\n      <th>geschlecht__Männlich</th>\n      <th>geschlecht__Weiblich</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>30</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>31</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>32</th>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>33</th>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>34</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>35</th>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>36</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Dummy Variablen zu Daten hinzufügen\n\n::: {.cell output-location='fragment' execution_count=12}\n``` {.python .cell-code}\n# Dummy-Variablen hinzufügen\ndf = df.join(dummy_nominal)\n\ndf.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>zeit</th>\n      <th>sport</th>\n      <th>fleissig</th>\n      <th>entmutigen</th>\n      <th>talente</th>\n      <th>einkommen</th>\n      <th>energie</th>\n      <th>megacity</th>\n      <th>geleebohnen</th>\n      <th>soziale_medien</th>\n      <th>studium</th>\n      <th>buch</th>\n      <th>alter</th>\n      <th>geschlecht</th>\n      <th>buch__Ja</th>\n      <th>buch__Nein</th>\n      <th>geschlecht__Männlich</th>\n      <th>geschlecht__Weiblich</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2023/10/17 4:37:01 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft völlig zu</td>\n      <td>4</td>\n      <td>teils teils</td>\n      <td>40</td>\n      <td>ca. 82%</td>\n      <td>4</td>\n      <td>800</td>\n      <td>5</td>\n      <td>3</td>\n      <td>Nein</td>\n      <td>20</td>\n      <td>Weiblich</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2023/10/17 4:37:16 PM OESZ</td>\n      <td>trifft eher zu</td>\n      <td>trifft eher nicht zu</td>\n      <td>4</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>50</td>\n      <td>ca. 62%</td>\n      <td>2</td>\n      <td>375</td>\n      <td>200</td>\n      <td>15</td>\n      <td>Nein</td>\n      <td>21</td>\n      <td>Männlich</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2023/10/17 4:37:44 PM OESZ</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>teils teils</td>\n      <td>4</td>\n      <td>trifft eher zu</td>\n      <td>23</td>\n      <td>ca. 62%</td>\n      <td>4</td>\n      <td>500</td>\n      <td>300</td>\n      <td>60</td>\n      <td>Nein</td>\n      <td>20</td>\n      <td>Weiblich</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2023/10/17 4:37:51 PM OESZ</td>\n      <td>trifft eher nicht zu</td>\n      <td>trifft eher nicht zu</td>\n      <td>2</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>68</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>568</td>\n      <td>240</td>\n      <td>15</td>\n      <td>Nein</td>\n      <td>23</td>\n      <td>Männlich</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2023/10/17 4:37:57 PM OESZ</td>\n      <td>teils teils</td>\n      <td>trifft eher nicht zu</td>\n      <td>4</td>\n      <td>trifft überhaupt nicht zu</td>\n      <td>14</td>\n      <td>ca. 82%</td>\n      <td>3</td>\n      <td>600</td>\n      <td>30</td>\n      <td>60</td>\n      <td>Nein</td>\n      <td>24</td>\n      <td>Männlich</td>\n      <td>0</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Liste um Dummy Variablen ergänzen\n\n::: {.cell execution_count=13}\n``` {.python .cell-code}\n# Liste um die neuen Variablen erweitern\ndummy_nominal_name = dummy_nominal.columns.tolist()\n\nlist_nominal.extend(dummy_nominal_name)\n```\n:::\n\n\n. . .\n\n::: {.cell output-location='fragment' execution_count=14}\n``` {.python .cell-code}\nlist_nominal\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```\n['buch',\n 'geschlecht',\n 'buch__Ja',\n 'buch__Nein',\n 'geschlecht__Männlich',\n 'geschlecht__Weiblich']\n```\n:::\n:::\n\n\n# Likert-Skala, Ordinal und Quasi-Metrisch\n\n## Variablen {.smaller}\n\n- Die Variablen `sport`,`fleissig`, `talente` und `entmutigen` wurden mit Hilfe einer so genannten [Likert-Skala](https://de.wikipedia.org/wiki/Likert-Skala) erhoben. \n\n- Die Antwortmöglichkeiten reichen bei der Likertskala typischerweise von „trifft überhaupt nicht zu“ bis \"trifft völlig zu“\n\n- Eine gerade Zahl der Antwortmöglichkeiten ist ebenso gebräuchlich wie eine ungerade Anzahl. \n\n\n## Antwortmöglichkeiten  {.smaller}\n\n- Es ist jedoch sinnvoll, in einem Fragebogen nur eine der beiden Varianten zu verwenden. \n\n- Zudem sollte die Reihenfolge der Antwortmöglichkeiten immer identisch sein.\n\n- Eine **ungerade Anzahl** wird verwendet, wenn eine mittlere Ausprägung (bspw. \"teils teils\") sinnvoll ist. \n\n- Eine **gerade Anzahl** zwingt dagegen zur Entscheidung zu einer Seite (tendenzielle Zustimmung oder Ablehnung).\n\n## Ordinal vs quasi-metrisch {.smaller}\n\n- Da wir nicht davon ausgehen können, dass eine befragte Person die Abstände der einzelnen Antwortmöglichkeiten als gleich weit entfernt wahrnimmt (äquidistant), handelt es sich streng genommen um ein **ordinales** Skalenniveau. \n\n- Um bei der späteren Auswertung die erhobenen Daten aber dennoch wie intervallskalierte Daten behandeln zu können, behandelt man die Variablen oftmals als \"**quais-metrisch**\" und unterstellt somit (zumindest annäherungsweise) äquidistante Abstände. \n\n## Ordinal vs quasimetrisch {.smaller}\n\n- Wir behandeln in Folgenden zwei unterschiedliche Optionen zum Umgang mit den Variablen:\n\n  - *Option 1*: Wir behandeln die Variablen als **ordinale** Variablen (wird im Anschluss gezeigt).\n\n  - *Option 2*: Wir behandeln die Variablen als \"**quasimetrische**\" Variablen - d.h. wie numerische Daten (diese Option wird in dem Abschnitt \"Quasi-metrische Variablen\" behandelt).\n\n\n# Skalierung der Variablen anpassen\n\n## Text vs. numerische Werte {.smaller}\n\n- In den Fragen wurde \"`sport`\", \"`fleissig`\", \"`talente`\" mit Hilfe von Text-Bezeichnungen wie \"trifft überhaupt nicht zu\" erhoben\n\n- \"`entmutigen`\" wurde mit Hilfe von *numerischen Werten* (1 bis 5) erfasst. \n\n- Da wir besser mit einheitlich skalierten Werten umgehen können, wird zunächst die Variable \"`entmutigen`\" in das gleiche Format überführt.\n\n## Variable im Original speichern\n\n- Da wir die Variable `entmutigen` nicht versehentlich durch Datentransformationen fehlerhaft verändern möchten, speichern wir sie zunächst nochmals in der originalen Version ab (als `entmutigen_orig`). \n\n::: {.cell output-location='fragment' execution_count=15}\n``` {.python .cell-code}\ndf['entmutigen_orig'] = df['entmutigen']\n```\n:::\n\n\n## Liste für Anpassung erzeugen\n\n- Erzeugung der Listen für die Veränderung der Variable (in der korrekten Reihenfolge):\n\n::: {.cell output-location='fragment' execution_count=16}\n``` {.python .cell-code}\nwerte = [1, 2, 3, 4, 5]\n\nlikert = [\"trifft überhaupt nicht zu\",\n          \"trifft eher nicht zu\",\n          \"teils teils\",\n          \"trifft eher zu\",\n          \"trifft völlig zu\"]\n```\n:::\n\n\n## Variable anpassen\n\n::: {.cell output-location='fragment' execution_count=17}\n``` {.python .cell-code}\ndf['entmutigen'].replace(werte, likert, inplace=True)\n\ndf['entmutigen'].head()\n```\n\n::: {.cell-output .cell-output-display execution_count=17}\n```\n0          trifft eher zu\n1          trifft eher zu\n2          trifft eher zu\n3    trifft eher nicht zu\n4          trifft eher zu\nName: entmutigen, dtype: object\n```\n:::\n:::\n\n\n. . .\n\n::: {.cell output-location='fragment' execution_count=18}\n``` {.python .cell-code}\ndf['entmutigen_orig'].head()\n```\n\n::: {.cell-output .cell-output-display execution_count=18}\n```\n0    4\n1    4\n2    4\n3    2\n4    4\nName: entmutigen_orig, dtype: int64\n```\n:::\n:::\n\n\n# Ordinale Variablen\n\n## Liste erstellen \n\n- Erstellung einer Liste:\n\n::: {.cell output-location='fragment' execution_count=19}\n``` {.python .cell-code}\nlist_ordinal = [\"sport\", \"fleissig\", \"talente\", \"entmutigen\"]\n```\n:::\n\n\n## Verwendung von pandas CategoricalDtype\n\n::: {.cell output-location='fragment' execution_count=20}\n``` {.python .cell-code}\ncat_type = CategoricalDtype(categories=likert, ordered=True)\n\ncat_type\n```\n\n::: {.cell-output .cell-output-display execution_count=20}\n```\nCategoricalDtype(categories=['trifft überhaupt nicht zu', 'trifft eher nicht zu',\n                  'teils teils', 'trifft eher zu', 'trifft völlig zu'],\n, ordered=True)\n```\n:::\n:::\n\n\n## Ordinale Variablen anpassen\n\n::: {.cell execution_count=21}\n``` {.python .cell-code}\ndf[list_ordinal] = df[list_ordinal].astype(cat_type)\n```\n:::\n\n\n. . .\n\n::: {.cell output-location='fragment' execution_count=22}\n``` {.python .cell-code}\ndf[\"sport\"]\n```\n\n::: {.cell-output .cell-output-display execution_count=22}\n```\n0                trifft eher zu\n1                trifft eher zu\n2     trifft überhaupt nicht zu\n3          trifft eher nicht zu\n4                   teils teils\n5     trifft überhaupt nicht zu\n6                trifft eher zu\n7                trifft eher zu\n8              trifft völlig zu\n9          trifft eher nicht zu\n10               trifft eher zu\n11               trifft eher zu\n12                  teils teils\n13         trifft eher nicht zu\n14                  teils teils\n15               trifft eher zu\n16               trifft eher zu\n17             trifft völlig zu\n18                  teils teils\n19         trifft eher nicht zu\n20         trifft eher nicht zu\n21             trifft völlig zu\n22                  teils teils\n23                  teils teils\n24                  teils teils\n25               trifft eher zu\n26             trifft völlig zu\n27             trifft völlig zu\n28                  teils teils\n29             trifft völlig zu\n30         trifft eher nicht zu\n31                  teils teils\n32             trifft völlig zu\n33               trifft eher zu\n34                  teils teils\n35             trifft völlig zu\n36                  teils teils\nName: sport, dtype: category\nCategories (5, object): ['trifft überhaupt nicht zu' < 'trifft eher nicht zu' < 'teils teils' < 'trifft eher zu' < 'trifft völlig zu']\n```\n:::\n:::\n\n\n. . .\n\n::: {.cell output-location='fragment' execution_count=23}\n``` {.python .cell-code}\n# Anzeige der Ausprägungen\ndf['sport'].cat.categories\n```\n\n::: {.cell-output .cell-output-display execution_count=23}\n```\nIndex(['trifft überhaupt nicht zu', 'trifft eher nicht zu', 'teils teils',\n       'trifft eher zu', 'trifft völlig zu'],\n      dtype='object')\n```\n:::\n:::\n\n\n## Liste der kategorialen Variablen erstellen\n\n::: {.cell output-location='fragment' execution_count=24}\n``` {.python .cell-code}\nlist_cat = list_nominal + list_ordinal\n```\n:::\n\n\n# Numerische Variablen\n\n## Übersicht \n\n- Wir behandeln zunächst die \"eindeutig\" numerischen Variablen (d.h. wir ignorieren die quasi-metrischen). diese wären:\n\n- einkommen\n- energie\n- megacity\n- geleebohnen\n- soziale_medien\n- studium\n- alter\n\n## Liste erstellen\n\n::: {.cell output-location='fragment' execution_count=25}\n``` {.python .cell-code}\nlist_num = ['einkommen', 'energie', 'megacity', 'geleebohnen',\n            'soziale_medien', 'studium', 'alter']\n\ndf[list_num].info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 37 entries, 0 to 36\nData columns (total 7 columns):\n #   Column          Non-Null Count  Dtype \n---  ------          --------------  ----- \n 0   einkommen       37 non-null     object\n 1   energie         37 non-null     object\n 2   megacity        37 non-null     int64 \n 3   geleebohnen     37 non-null     int64 \n 4   soziale_medien  37 non-null     int64 \n 5   studium         37 non-null     int64 \n 6   alter           37 non-null     int64 \ndtypes: int64(5), object(2)\nmemory usage: 2.2+ KB\n```\n:::\n:::\n\n\n## Erkenntnisse\n\n- Wir können mit `df.info()` erkennen, dass abgesehen von `energie` bereits alle Variablen korrrekt als \"int64\" vorliegen\n\n- Siehe zur Bedeutung von `Int64` diesen [Stackoverflow-Beitrag](https://stackoverflow.com/questions/9696660/what-is-the-difference-between-int-int16-int32-and-int64)) \n\n\n## Untersuchung von Problemen\n\n::: {.cell output-location='fragment' execution_count=26}\n``` {.python .cell-code}\ndf['energie'].head()\n```\n\n::: {.cell-output .cell-output-display execution_count=26}\n```\n0    ca. 82%\n1    ca. 62%\n2    ca. 62%\n3    ca. 82%\n4    ca. 82%\nName: energie, dtype: object\n```\n:::\n:::\n\n\n- In den Antwortmöglichkeiten der Variable waren neben numerischen Werten auch Buchstaben und ein Sonderzeichen enthalen: \"ca.\" und \"%\". \n\n- Damit wir sinnvoll mit der Variable arbeiten können, müssen diese entfernt werden. \n\n## Variable im Original speichern {.smaller}\n\n- Da wir die Variable nicht versehentlich durch Datentransformationen korrumpieren möchten, speichern wir sie zunächst nochmals in der originalen Version ab (als `energie_orig`). \n\n- Um die numerischen Werte leichter extrahieren zu können, nutzen wir das Format \"String\".\n\n::: {.cell output-location='fragment' execution_count=27}\n``` {.python .cell-code}\ndf['energie_orig'] = df['energie'].astype(\"string\")\n```\n:::\n\n\n## Regular Expressions {.smaller}\n\n- Im nächsten Schritt nutzen wir einen [regulärer Ausdruck](https://www.w3schools.com/python/python_regex.asp) (englisch regular expression, Abkürzung RegExp oder Regex) um die Zahl aus dem String zu extrahieren. \n\n|Ausdruck|Bedeutung|Beschreibung|\n|:----|:----|:----|\n|\\d|digit|eine Ziffer, also [0-9] (und evtl. auch weitere Zahlzeichen in Unicode, z. B. bengalische Ziffern)|\n|\\D|no digit|ein Zeichen, das keine Ziffer ist, also [^\\d]|\n|\\w|word character|ein Buchstabe, eine Ziffer oder der Unterstrich, also [a-zA-Z_0-9] (und evtl. auch nicht-lateinische Buchstaben, z. B. Umlaute)|\n|\\W|no word character|ein Zeichen, das weder Buchstabe noch Zahl noch Unterstrich ist, also [^\\w]|\n|\\s|whitespace|meist zumindest das Leerzeichen und die Klasse der Steuerzeichen \\f, \\n, \\r, \\t und \\v|\n|\\S|no whitespace|ein Zeichen, das kein Whitespace ist, also [^\\s]|\n\n## Anpassung der Variable\n\n- Falls mehr als ein einzelnes Zeichen extrahiert werden soll, muss am Ende des Ausdrucks ein `+` hinzugefügt werden.\n\n- Wir nutzen regular expressions und überschreiben die alte Variable `energie` mit dem neuen Eintrag. \n\n- Zudem speichern wir sie als integer.\n\n## Anpassung der Variable\n\n. . .\n\n::: {.cell execution_count=28}\n``` {.python .cell-code}\ndf['energie'] = df['energie_orig'].str.extract('(\\d+)').astype(int)\n```\n:::\n\n\n. . .\n\n::: {.cell output-location='fragment' execution_count=29}\n``` {.python .cell-code}\ndf[['energie_orig', 'energie']].head()\n```\n\n::: {.cell-output .cell-output-display execution_count=29}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>energie_orig</th>\n      <th>energie</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>ca. 82%</td>\n      <td>82</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>ca. 62%</td>\n      <td>62</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>ca. 62%</td>\n      <td>62</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>ca. 82%</td>\n      <td>82</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>ca. 82%</td>\n      <td>82</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n# Quasi-metrische Variablen\n\n## Kontext\n\n- Variablen `sport`,`fleissig`, und `talente` wurden mit Hilfe einer  [Likert-Skala](https://de.wikipedia.org/wiki/Likert-Skala) erhoben und könnten somit auch als \"quasi-metrisch\" behandelt werden (anstelle von ordinal).\n\n- Dabei muss jedoch beachtet werden, dass bspw. der Mittelwert aufgrund der Art der Messung (insbesondere wenn eine neutrale mittlere Ausprägung verwendet wird) an Aussagekraft verlieren.\n\n\n## Originaldaten sichern {.smaller}\n\n- Damit wir die Originaldaten nicht \"verlieren\", erzeugen wir neue Variablen. \n\n- Dafür kopieren wir die Daten und fügen diesen die Endung \"qm\" (für quasimetrisch) hinzu. \n\n. . .\n\n::: {.cell execution_count=30}\n``` {.python .cell-code}\nfor i in list_ordinal:\n    df[i + \"_qm\"] = df[i]\n```\n:::\n\n\n## Liste erzeugen\n\n::: {.cell output-location='fragment' execution_count=31}\n``` {.python .cell-code}\n# Erstellung der Liste mit Hilfe von filter und regular expressions\nlist_qm = df.filter(regex='_qm').columns.to_list()\nlist_qm\n```\n\n::: {.cell-output .cell-output-display execution_count=31}\n```\n['sport_qm', 'fleissig_qm', 'talente_qm', 'entmutigen_qm']\n```\n:::\n:::\n\n\n## Info\n\n::: {.cell output-location='fragment' execution_count=32}\n``` {.python .cell-code}\ndf[list_qm].info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 37 entries, 0 to 36\nData columns (total 4 columns):\n #   Column         Non-Null Count  Dtype   \n---  ------         --------------  -----   \n 0   sport_qm       37 non-null     category\n 1   fleissig_qm    37 non-null     category\n 2   talente_qm     37 non-null     category\n 3   entmutigen_qm  37 non-null     category\ndtypes: category(4)\nmemory usage: 1.1 KB\n```\n:::\n:::\n\n\n## Skalierung anpassen\n\n- Wir nutzen nun ein ähnliches Vorgehen wie bei der Anpassung der Variable \"entmutigen\"\n\n. . .\n\n::: {.cell output-location='fragment' execution_count=33}\n``` {.python .cell-code}\nfor i in list_qm:\n    df[i].replace(likert, werte, inplace=True)\n    df[i] = df[i].astype(\"int\")\n```\n:::\n\n\n## Daten anzeigen\n\n::: {.cell output-location='fragment' execution_count=34}\n``` {.python .cell-code}\ndf[list_qm].head()\n```\n\n::: {.cell-output .cell-output-display execution_count=34}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>sport_qm</th>\n      <th>fleissig_qm</th>\n      <th>talente_qm</th>\n      <th>entmutigen_qm</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>4</td>\n      <td>5</td>\n      <td>3</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>4</td>\n      <td>2</td>\n      <td>1</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1</td>\n      <td>3</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2</td>\n      <td>2</td>\n      <td>1</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>3</td>\n      <td>2</td>\n      <td>1</td>\n      <td>4</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n. . .\n\n::: {.cell output-location='fragment' execution_count=35}\n``` {.python .cell-code}\ndf[list_qm].info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 37 entries, 0 to 36\nData columns (total 4 columns):\n #   Column         Non-Null Count  Dtype\n---  ------         --------------  -----\n 0   sport_qm       37 non-null     int64\n 1   fleissig_qm    37 non-null     int64\n 2   talente_qm     37 non-null     int64\n 3   entmutigen_qm  37 non-null     int64\ndtypes: int64(4)\nmemory usage: 1.3 KB\n```\n:::\n:::\n\n\n## Liste für metrische Variablen\n\n::: {.cell output-location='fragment' execution_count=36}\n``` {.python .cell-code}\nlist_metric = list_num + list_qm\n```\n:::\n\n\n# Daten speichern\n\n## Daten als CSV speichern\n\nSpeichern als CSV:\n\n::: {.cell output-location='fragment' execution_count=37}\n``` {.python .cell-code}\nPATH = \"../data/\"\nFILE = \"clean_ws2324\"\nFORMAT_CSV = \".csv\"\n```\n:::\n\n\n::: {.cell output-location='fragment' execution_count=38}\n``` {.python .cell-code}\ndf.to_csv(PATH + FILE + FORMAT_CSV, index=False)\n```\n:::\n\n\n## Daten als Excel speichern\n\nSpeichern als Excel-Datei:\n\n::: {.cell output-location='fragment' execution_count=39}\n``` {.python .cell-code}\nFORMAT_EXCEL = \".xlsx\"\n\ndf.to_excel(PATH + FILE + FORMAT_EXCEL, index=False)\n```\n:::\n\n\n",
    "supporting": [
      "data-preparation_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}